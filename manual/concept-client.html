<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Client - @motioneffector/llm</title>
  <link rel="stylesheet" href="../demo-files/demo.css">
  <link rel="stylesheet" href="manual.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>document.addEventListener('DOMContentLoaded', () => hljs.highlightAll());</script>
</head>
<body>
  <div class="page">
    <header class="header">
      <h1 class="header-title">@motioneffector/llm</h1>
      <p class="header-description">Documentation</p>
      <nav class="header-links">
        <a href="../index.html" class="header-link">Demo</a>
        <a href="https://www.npmjs.com/package/@motioneffector/llm" class="header-link">npm</a>
        <a href="https://github.com/motioneffector/llm" class="header-link">GitHub</a>
      </nav>
    </header>

    <div class="manual-layout">
      <aside class="manual-sidebar">
        <nav class="sidebar-nav">
<p><strong><a href="index.html">@motioneffector/llm</a></strong></p>
<p><strong>Getting Started</strong></p>
<ul>
<li><a href="installation.html">Installation</a></li>
<li><a href="your-first-chat.html">Your First Chat</a></li>
</ul>
<p><strong>Core Concepts</strong></p>
<ul>
<li><a href="concept-client.html">Client</a></li>
<li><a href="concept-messages.html">Messages</a></li>
<li><a href="concept-streaming.html">Streaming</a></li>
<li><a href="concept-conversations.html">Conversations</a></li>
<li><a href="concept-error-handling.html">Error Handling</a></li>
</ul>
<p><strong>Guides</strong></p>
<ul>
<li><a href="guide-sending-messages.html">Sending Messages</a></li>
<li><a href="guide-streaming-responses.html">Streaming Responses</a></li>
<li><a href="guide-building-conversations.html">Building Conversations</a></li>
<li><a href="guide-error-handling.html">Error Handling</a></li>
<li><a href="guide-canceling-requests.html">Canceling Requests</a></li>
<li><a href="guide-using-different-providers.html">Using Different Providers</a></li>
</ul>
<p><strong>API Reference</strong></p>
<ul>
<li><a href="api-client.html">Client API</a></li>
<li><a href="api-conversation.html">Conversation API</a></li>
<li><a href="api-types.html">Types</a></li>
<li><a href="api-errors.html">Errors</a></li>
<li><a href="api-utilities.html">Utilities</a></li>
</ul>

        </nav>
      </aside>

      <main class="manual-content">
        <article class="manual-article">
<h1>Client</h1>
<p>The client is your configured connection to the LLM API. You create it once with your credentials and settings, then use it throughout your application to send messages, stream responses, and create conversations.</p>
<h2>How It Works</h2>
<p>Think of the client like a database connection pool. You configure it once at startup with authentication and default settings, then use that same instance for all your requests. The client handles:</p>
<ul>
<li>Authentication (API key in headers)</li>
<li>Request formatting (converting your messages to the API format)</li>
<li>Retries (automatic retry with exponential backoff on failures)</li>
<li>Response parsing (extracting content, usage stats, and metadata)</li>
</ul>
<pre><code>┌─────────────┐      ┌────────────┐      ┌─────────────┐
│ Your Code   │ ──►  │   Client   │ ──►  │ OpenRouter  │
│             │      │            │      │     API     │
│ messages[]  │      │ auth       │      │             │
│             │ ◄──  │ retries    │ ◄──  │  response   │
│ response    │      │ parsing    │      │             │
└─────────────┘      └────────────┘      └─────────────┘
</code></pre>
<h2>Basic Usage</h2>
<pre><code class="language-typescript">import { createLLMClient } from &#39;@motioneffector/llm&#39;

const client = createLLMClient({
  apiKey: process.env.OPENROUTER_KEY!,
  model: &#39;anthropic/claude-sonnet-4&#39;
})

// Use the client for requests
const response = await client.chat([
  { role: &#39;user&#39;, content: &#39;Hello!&#39; }
])
</code></pre>
<p>This creates a client configured for Claude. All requests through this client use the same API key and default to the same model.</p>
<h2>Key Points</h2>
<ul>
<li><strong>Create once, use everywhere</strong> - Don&#39;t create a new client for each request. Create one at startup and reuse it.</li>
<li><strong>Model can be changed</strong> - Use <code>client.setModel()</code> to change the default, or pass <code>model</code> in request options to override per-request.</li>
<li><strong>Default parameters</strong> - Set <code>defaultParams</code> when creating the client to apply settings like <code>temperature</code> to all requests.</li>
<li><strong>OpenRouter is the default</strong> - The client defaults to OpenRouter&#39;s API. Use <code>baseUrl</code> to connect to other providers.</li>
</ul>
<h2>Examples</h2>
<h3>With Default Parameters</h3>
<p>Set generation parameters that apply to all requests:</p>
<pre><code class="language-typescript">const client = createLLMClient({
  apiKey: process.env.OPENROUTER_KEY!,
  model: &#39;anthropic/claude-sonnet-4&#39;,
  defaultParams: {
    temperature: 0.7,
    maxTokens: 1000
  }
})
</code></pre>
<h3>Switching Models at Runtime</h3>
<p>Change the default model without creating a new client:</p>
<pre><code class="language-typescript">client.setModel(&#39;openai/gpt-4o&#39;)

// All future requests use GPT-4o
const response = await client.chat([
  { role: &#39;user&#39;, content: &#39;Hello!&#39; }
])
</code></pre>
<h3>Override Model Per-Request</h3>
<p>Use a different model for a specific request:</p>
<pre><code class="language-typescript">const response = await client.chat(
  [{ role: &#39;user&#39;, content: &#39;Hello!&#39; }],
  { model: &#39;openai/gpt-4o&#39; }
)
// Uses GPT-4o for this request only
</code></pre>
<h2>Related</h2>
<ul>
<li><strong><a href="concept-messages.html">Messages</a></strong> - The format for communicating with LLMs</li>
<li><strong><a href="guide-sending-messages.html">Sending Messages</a></strong> - Complete guide to chat requests</li>
<li><strong><a href="api-client.html">Client API</a></strong> - Full method reference</li>
</ul>

        </article>
      </main>
    </div>
  </div>
</body>
</html>
